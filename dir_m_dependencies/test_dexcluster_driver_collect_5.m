function ...
[ ...
 flag_found_ ...
,lpv_quad_ ...
,n_cluster_found_ ...
,label_B__ ...
,prefix_method_ ...
,legend_method_ ...
,nrank_method_ ...
,symbol_method_ ...
] = ...
test_dexcluster_driver_collect_5( ...
 str_code ...
,label_A_ ...
,dir_mat ...
,n_rank ...
);
% tests out dexcluster (as well as several other clustering algorithms) on data-matrix A_n_. ;

verbose=0; 

if (nargin<1);
disp('returning'); return;
end;%if (nargin<1);

na=0;
if (nargin<1+na); str_code = []; end; na=na+1;
if (nargin<1+na); label_A_ = []; end; na=na+1;
if (nargin<1+na); dir_mat = []; end; na=na+1;
if (nargin<1+na); n_rank = []; end; na=na+1;

platform = 'access1';
if (exist('platform.type','file')); fp=fopen('platform.type'); platform = fscanf(fp,'%s'); fclose(fp); end;
if (strcmp(platform,'access1')); string_root = 'data'; end;
if (strcmp(platform,'OptiPlex')); string_root = 'home'; end;
dir_trunk = sprintf('/%s/rangan/dir_bcc/dir_jamison',string_root);

if isempty(dir_mat); dir_mat = dir_trunk; end;
if isempty(n_rank); n_rank = []; end;

str_n_rank = ''; if ~isempty(n_rank); str_n_rank = sprintf('_r%d',n_rank); end;
n_rank_sub = 1;

if (~exist(dir_mat,'dir')); disp(sprintf(' %% mkdir %s',dir_mat)); mkdir(dir_mat); end;

prefix_method_ = { ...
 'tsne00_isosplit5' ...
,'tsne50_isosplit5' ...
,'umap00_default' ...
,'umap00_isosplit5' ...
,'umap00_hdbscan' ...
,'louvain00_default' ...
,'hnbtZRgumb' ...
,'spectral_isosplit5' ...
,'tsne00pr_isosplit5' ...
,'tsne50pr_isosplit5' ...
,'umap00pr_default' ...
,'umap00pr_isosplit5' ...
,'umap00pr_hdbscan' ...
,'louvain00pr_default' ...
,'hnbrtZRgumb' ...
};
n_method = numel(prefix_method_);
index_method_proj_off_ = [0,1,2,3,4,5,6];
index_method_proj_0on_ = [7,8,9,10,11,12,13,14];
%%%%%%%%;
legend_method_ = { ...
 'tsne00_isosplit5' ...
,'tsne50_isosplit5' ...
,'umap00_default' ...
,'umap00_isosplit5' ...
,'umap00_hdbscan' ...
,'louvain00_default' ...
,'loop00_c' ...
,'spectral_isosplit5' ...
,'tsne00pr_isosplit5' ...
,'tsne50pr_isosplit5' ...
,'umap00pr_default' ...
,'umap00pr_isosplit5' ...
,'umap00pr_hdbscan' ...
,'louvain00pr_default' ...
,'loop00pr_c' ...
};
for nl=0:numel(legend_method_)-1; legend_method_{1+nl}(strfind(legend_method_{1+nl},'_')) = ' '; end;
nrank_method_ = { ...
 [] ...
,[] ...
,[] ...
,[] ...
,[] ...
,[] ...
,[] ...
,n_rank ...
,n_rank ...
,n_rank ...
,n_rank ...
,n_rank ...
,n_rank ...
,n_rank ...
,n_rank ...
};
symbol_method_ = { ...
 'co-' ...
,'bo-' ...
,'kx-' ...
,'ko-' ...
,'k^-' ...
,'rs-' ...
,'mh-' ...
,'go-' ...
,'co-' ...
,'bo-' ...
,'kx-' ...
,'ko-' ...
,'k^-' ...
,'rs-' ...
,'mh-' ...
};

flag_found_ = zeros(n_method,1);
lpv_quad_ = zeros(n_method,1);
n_cluster_found_ = zeros(n_method,1);
label_B__ = cell(n_method,1);

for nmethod=0:n_method-1;
prefix_method = prefix_method_{1+nmethod};
nrank_method = nrank_method_{1+nmethod};
if (~isempty(nrank_method)); prefix_method = sprintf('%s_r%d',prefix_method,nrank_method); end;
fname_mat = sprintf('%s/%s.mat',dir_mat,prefix_method);
if (~exist(fname_mat,'file'));
flag_found = 0;
n_cluster_found = 0;
lpv_quad = 0;
label_B_ = {};
if (verbose>1); disp(sprintf(' %% %s not found, skipping',fname_mat)); end;
end;%if (~exist(fname_mat,'file'));
if ( exist(fname_mat,'file'));
tmp_ = load(fname_mat,'lpv_','lP0_','fla_','label_B__');
flag_found = 1;
n_cluster_found = numel(unique(tmp_.label_B__{1}));
label_B_ = tmp_.label_B__{end};
lpv_quad = label_to_label_enrichment_quad_4(label_A_,label_B_);
end;%if ( exist(fname_mat,'file'));
flag_found_(1+nmethod) = flag_found;
n_cluster_found_(1+nmethod) = n_cluster_found;
lpv_quad_(1+nmethod) = lpv_quad;
label_B__{1+nmethod} = label_B_;
end;%for nmethod=0:n_method-1;



