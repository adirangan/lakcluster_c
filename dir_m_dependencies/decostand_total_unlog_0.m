function loutput_ = decostand_total_unlog_0(linput_,str_margin);
% applies decostand_total to input_, assuming that linput_ = log(input_). ;
if nargin<2; str_margin = 'row'; end;
[n_r,n_c] = size(linput_);
output_ = exp(linput_);
if strfind(str_margin,'row');
for nc=1:n_c;
tmp_ = output_(:,nc);
tmp = sum(tmp_);
if ~isfinite(tmp); tmp = 1; end;
if (tmp==0); tmp=1; end;
output_(:,nc) = tmp_/tmp;
end;%for nc=1:n_c;
loutput_ = log(output_);
end;%if strfind(str_margin,'row');
if strfind(str_margin,'col');
loutput_ = transpose(decostand_total_unlog_0(transpose(linput_),'row'));
end;%if strfind(str_margin,'col');
